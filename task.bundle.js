(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+UtQ":function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".form-com[data-v-06b211f7]{margin-top:.12rem}.reasonContent-box[data-v-06b211f7]{height:1.23rem;background-color:#fff;padding:.13rem .15rem}.reasonContent-box>.textarea[data-v-06b211f7]{width:100%;height:100%;resize:none;border:none;outline:none}textarea[data-v-06b211f7]::-webkit-input-placeholder{color:#ccc;font-size:.14rem}textarea[data-v-06b211f7]:-ms-input-placeholder,textarea[data-v-06b211f7]::-ms-input-placeholder{color:#ccc;font-size:.14rem}textarea[data-v-06b211f7]::placeholder{color:#ccc;font-size:.14rem}",""])},"+za2":function(t,e,a){"use strict";var s=a("znaV");a.n(s).a},"/Dy+":function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".detail[data-v-447ec66e]{overflow-y:auto;background:#fff;padding:0 .13rem .66rem .19rem}",""])},"/wPU":function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".list[data-v-860f3f46]{margin-top:.12rem;background:#fff;padding:0 .18rem}.item[data-v-860f3f46]{padding:.12rem 0}.head[data-v-860f3f46]{line-height:.26rem;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.head .l[data-v-860f3f46]{font-size:.15rem;font-weight:700}.head .r[data-v-860f3f46]{font-size:.13rem;color:#88b8f8}.content[data-v-860f3f46]{line-height:.26rem;color:#999;font-size:.13rem}.img-box[data-v-860f3f46]{margin-left:-.2rem;margin-top:.12rem}.img[data-v-860f3f46]{float:left;width:.54rem;height:.54rem;border-radius:.05rem;background:#ccc;margin-left:.2rem;margin-bottom:.12rem}",""])},"07lP":function(t,e,a){"use strict";var s=a("MXKK");a.n(s).a},"1T3G":function(t,e,a){var s=a("fzHj");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("d9345e80",s,!0,{})},"4/2h":function(t,e,a){"use strict";var s=a("zSCc");a.n(s).a},"5flr":function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".form[data-v-ec0b5e7a]{margin-top:.12rem}",""])},"6OqQ":function(t,e,a){"use strict";var s=a("REi6");a.n(s).a},"6W4W":function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".form-com[data-v-45b8a019]{margin-top:.12rem}.cc-box[data-v-45b8a019]{background-color:#fff;border-radius:.09rem;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .1rem 0 .15rem;line-height:.52rem;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.cc-box .l[data-v-45b8a019]{font-size:.15rem;color:#666;font-weight:700}.cc-box .r[data-v-45b8a019]{padding-left:.3rem;font-size:.14rem;color:#ccc}.cc-box .r.active[data-v-45b8a019]{color:#333}",""])},"6Yjp":function(t,e,a){var s=a("+UtQ");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("62095ee0",s,!0,{})},ANuR:function(t,e,a){"use strict";var s=a("ULP5"),i=a("NMVR"),n=new Date,o=n.getFullYear(),A=n.getMonth()+1,r=n.getDate(),c={name:"slide-select-date",props:["value","show","minValue","maxValue"],data:function(){return{startYear:o-10,titles:["年","月","日","时","分"],lists:[{d:[],i:0},{d:[],i:0},{d:[],i:0},{d:[],i:0},{d:[],i:0}]}},created:function(){if(this.value){var t=this.value.split("  ")[0].split("-");this.lists=i.a.getData(this.startYear,t[0],t[1]),this.lists[2].i=t[2]-1}else this.lists=i.a.getData(this.startYear,o,A),this.selectTody();this.lists.push({d:[],i:0}),this.lists.push({d:[],i:0});var e=i.a.getHours(),a=i.a.getMinutes();a=["00","10","20","30","40","50"];var s=new Date,n=void 0;this.value?n=this.value.split("  ")[1].split(":")[0].trim():n=s.getHours();this.lists[3].d=e,this.lists[3].i=n,this.lists[4].d=a},methods:{onChange:function(t,e){1===e&&this.dayUpdate()},dayUpdate:function(){var t=this.lists,e=t[0],a=t[1];this.$set(this.lists[2],"d",i.a.getDayData(e.d[e.i],a.d[a.i]))},selectTody:function(){var t=this.lists;t[0].i=o-this.startYear-1,t[1].i=A-1,t[2].i=r-1},onConfirm:function(t){var e=this.minValue,a=this.maxValue,s=this.lists,i=s[0],n=s[1],o=s[2],A=this.lists,r=A[3],c=A[4],l=r.d[r.i],d=c.d[c.i],u=i.d[i.i]+"-"+n.d[n.i]+"-"+o.d[o.i]+"  "+l+":"+d;e&&e>u||a&&a<u?this.$emit("error"):(this.$emit("update:value",u),t(1))}},components:{SlideSelect:s.a}},l=(a("fqkn"),a("hghu")),d=Object(l.a)(c,function(){var t=this,e=t.$createElement;return(t._self._c||e)("SlideSelect",{attrs:{show:t.show,titles:t.titles,lists:t.lists},on:{close:function(e){t.$emit("update:show",0)},change:t.onChange,confirm:t.onConfirm}})},[],!1,null,"4d98ebe1",null);e.a=d.exports},BoeG:function(t,e,a){var s=a("6W4W");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("7d9488ac",s,!0,{})},ECHS:function(t,e,a){var s=a("ZmcQ");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("57d5c018",s,!0,{})},FY62:function(t,e,a){"use strict";var s=a("KP3p");a.n(s).a},FnyZ:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,"",""])},HFY2:function(t,e,a){"use strict";a.r(e);var s=a("f+TK"),i={components:{List:a("puaZ").a,App:s.a},data:function(){return{keyword:"",listData:[]}},created:function(){},methods:{onActionList:function(t,e){this.$router.push({name:"detail_copysend",params:{id:t.id}})},getList:function(t){var e=this;return this.$preloaderFull.show(),this.$axios.get("/mobicampus/task/v1/list?type=cc&state=1&start="+t+"&size=10").then(function(t){var a=t.data;if(e.$preloaderFull.close(),200===a.status)return console.log("if-发起",a),a.result.data.map(function(t){var a=t.task;return{id:a.id,desc:a.desc,create_user_name:a.create_user_name,expect_complete_time:e.$getTimeStr(a.expect_complete_time,"mm-dd hh:mm",!1),stateStr:t.exe_finished+"/"+t.exe_total+"已完成",create_time:e.$getTimeStr(a.create_time)}})})}}},n=(a("FY62"),a("hghu")),o=Object(n.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"copysend"},[e("List",{ref:"list0",staticClass:"list-com",attrs:{data:this.listData,getData:this.getList},on:{action:this.onActionList}}),this._v(" "),e("App",{staticClass:"cmain"})],1)},[],!1,null,"21997104",null);e.default=o.exports},"Hn+/":function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".dealwith[data-v-521e91d7]{padding-bottom:.66rem}.list-com[data-v-521e91d7]{padding-top:.44rem;margin-top:.12rem}",""])},JABS:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".list[data-v-1c46f90e]{margin-top:.12rem;background:#fff}.item[data-v-1c46f90e]{display:-webkit-flex;display:-ms-flexbox;display:flex;height:.41rem;padding:.18rem}.img[data-v-1c46f90e]{width:.41rem;height:.41rem}.name[data-v-1c46f90e]{padding-left:.16rem;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;line-height:.41rem}.btn-r[data-v-1c46f90e]{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;width:.6rem;height:.2rem;line-height:.2rem;border-radius:.1rem;color:#88b8f8;font-size:.13rem;border:1px solid #88b8f8;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center}",""])},KP3p:function(t,e,a){var s=a("YxWx");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("62231ac3",s,!0,{})},KkEB:function(t,e,a){"use strict";a.r(e);var s={name:"task",props:["bus"],data:function(){return{isTabListShow:!1,currIndex:0,tabList:[{content:"我处理的",iconClass:"iconfont-task",iconDefault:"&#xe606;",iconActive:"&#xe605;",com:"dealwith"},{content:"我发起的",iconClass:"iconfont-task",iconDefault:"&#xe609;",iconActive:"&#xe607;",com:"sponsor"},{content:"抄送我的",iconClass:"iconfont-task",iconDefault:"&#xe676;",iconActive:"&#xe627;",com:"copysend"},{content:"新建任务",iconClass:"iconfont-task",iconDefault:"&#xe6d1;",iconActive:"&#xe602;",com:"newtask"}]}},created:function(){this.showHandle(this.$route,{})},watch:{$route:function(t,e){this.showHandle(t,e)}},methods:{tabAction:function(t,e){this.currIndex=e,3===e?this.$router.push({name:t.com}):this.$router.replace({name:t.com})},showHandle:function(t,e){e.name&&(this.transitionName="fade");var a=this.$route.name;"dealwith"===a||"sponsor"===a||"copysend"===a?(this.isTabListShow=!0,this.currIndex="dealwith"===a?0:"sponsor"===a?1:"copysend"===a?2:0):this.isTabListShow=!1}},components:{App:a("f+TK").a}},i=(a("pU/Y"),a("hghu")),n=Object(i.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"task-container"},[e("div",{staticClass:"cbg page-bg"}),this._v(" "),e("App",{staticClass:"cmain",attrs:{bus:this.bus}}),this._v(" "),e("oa-tabBottom",{directives:[{name:"show",rawName:"v-show",value:this.isTabListShow,expression:"isTabListShow"}],attrs:{list:this.tabList,attr:"content",currIndex:this.currIndex},on:{action:this.tabAction}})],1)},[],!1,null,"6edd8549",null);e.default=n.exports},KqdF:function(t,e,a){"use strict";var s={components:{FormCom:a("8ffV").a},props:{placeholder:{type:String,default:"请输入..."},content:{type:String,default:""},readonly:{type:Boolean,default:!1}},watch:{content:{handler:function(t){this.textareaText=t},immediate:!0}},data:function(){return{textareaText:""}}},i=(a("X4hB"),a("hghu")),n=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("FormCom",{staticClass:"form-com"},[a("div",{staticClass:"reasonContent-box"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textareaText,expression:"textareaText"}],staticClass:"textarea",attrs:{readonly:t.readonly,placeholder:t.placeholder},domProps:{value:t.textareaText},on:{change:function(e){t.$emit("update:content",t.textareaText)},input:function(e){e.target.composing||(t.textareaText=e.target.value)}}})])])},[],!1,null,"06b211f7",null);e.a=n.exports},MXKK:function(t,e,a){var s=a("Hn+/");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("ab17bb7c",s,!0,{})},NMVR:function(t,e,a){"use strict";function s(t){return t<10?"0"+t:t}e.a={getDayCount:function(t,e){var a=new Date(t,e);return a.setDate(0),a.getMinutes(),a.getDate()},getDayData:function(t,e){for(var a=[],i=0,n=this.getDayCount(t,e);i<n;i++)a.push(s(i+1));return a},getData:function(t,e,a){for(var i=[{d:[],i:0},{d:[],i:0},{d:[],i:0}],n=i[0],o=i[1],A=i[2],r=20;r--;)n.d.push(t+r);for(var c=1;c<13;c++)o.d.push(s(c));return n.i=e-t-1,o.i=a-1,A.d=this.getDayData(e,a),i},getDateAndTime:function(t,e,a){for(var i=[{d:[],i:0},{d:[],i:0},{d:[],i:0}],n=i[0],o=i[1],A=i[2],r=20;r--;)n.d.push(t+r);for(var c=1;c<13;c++)o.d.push(s(c));return n.i=e-t-1,o.i=a-1,A.d=this.getDayData(e,a),i},getHours:function(){return"00,01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23".split(",")},getMinutes:function(){for(var t=[],e=60;e--;)t.push(s(59-e+""));return t}}},ObxM:function(t,e,a){var s=a("Zlq9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("3f4cbdd8",s,!0,{})},OhAc:function(t,e,a){"use strict";var s=a("xxiV");a.n(s).a},REi6:function(t,e,a){var s=a("UBMq");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("77a22a48",s,!0,{})},TMVL:function(t,e,a){"use strict";var s=a("1T3G");a.n(s).a},TrXX:function(t,e,a){"use strict";var s={props:{list:Array,currIndex:{type:Number,default:0}}},i=(a("+za2"),a("hghu")),n=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list",class:{active:t.$attrs.hasOwnProperty("position")}},t._l(t.list,function(e,s){return a("li",{key:s,staticClass:"item",class:{active:t.currIndex===s},on:{click:function(a){t.$emit("action",e,s)}}},[a("span",{staticClass:"text"},[t._v(t._s(e))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.currIndex===s,expression:"currIndex===i"}],staticClass:"line"})])}))},[],!1,null,"45c81c81",null);e.a=n.exports},UBMq:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".excu-status[data-v-49fd5e4d]{padding-top:.44rem}",""])},VDtT:function(t,e,a){var s=a("ysn5");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("6c0c11f0",s,!0,{})},VrTQ:function(t,e,a){"use strict";a.r(e);var s=a("f+TK"),i=a("TrXX"),n=a("puaZ"),o={components:{tabHead:i.a,List:n.a,App:s.a},data:function(){return{tabList:["进行中","已结束"],currIndex:0,listData1:[],listData2:[]}},created:function(){},methods:{onActionTab:function(t,e){this.currIndex=e,console.log(this.$refs.list0,"list"+this.currIndex)},onActionList:function(t,e){this.$router.push({name:"detail_dealwith",params:{id:t.id,state:this.currIndex}})},getList:function(t){var e=this;return this.$axios.get("/mobicampus/task/v1/list?type=exed&state="+(this.currIndex+1)+"&start="+t+"&size=10").then(function(t){var a=t.data;if(200===a.status){console.log("if-发起",a);var s=a.result.data;return s.map(function(t){var a=t.task;return{id:a.id,desc:a.desc,create_user_name:a.create_user_name,expect_complete_time:e.$getTimeStr(a.expect_complete_time,"mm-dd hh:mm",!1),stateStr:t.exe_finished+"/"+t.exe_total+"已完成",create_time:e.$getTimeStr(a.create_time),is_overdue:"true"===s.is_overdue,has_new_comments:"true"===s.has_new_comments}})}})}}},A=(a("07lP"),a("hghu")),r=Object(A.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dealwith page-bg"},[a("tabHead",{attrs:{position:"",list:t.tabList,currIndex:t.currIndex},on:{action:t.onActionTab}}),t._v(" "),0===t.currIndex?a("List",{key:"list0",ref:"list0",staticClass:"list-com",attrs:{data:t.listData1,getData:t.getList},on:{action:t.onActionList}}):t._e(),t._v(" "),1===t.currIndex?a("List",{key:"list1",ref:"list1",staticClass:"list-com",attrs:{data:t.listData2,getData:t.getList},on:{action:t.onActionList}}):t._e(),t._v(" "),a("App",{staticClass:"cmain"})],1)},[],!1,null,"521e91d7",null);e.default=r.exports},WfGU:function(t,e,a){var s=a("/wPU");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("377798d9",s,!0,{})},X4hB:function(t,e,a){"use strict";var s=a("6Yjp");a.n(s).a},X7j2:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".sponsor[data-v-2e8db3a0]{padding-bottom:.66rem}",""])},Xjp0:function(t,e,a){"use strict";var s=a("hlQj"),i=a("lXwO"),n={props:{colorTop:{type:String,default:"black"},colorBottom:{type:String,default:"black"}},components:{RefreshTop:i.a,LoaderBottom:s.a},methods:{reload:function(t){var e=this.$refs.vLoaderBottom,a={isRefresh:!0,complete:function(a){t(),a||(e.reset(),e.tryLoad())},vLoaderBottom:e};this.$emit("refreshLoad",a)},loadData:function(t){var e={complete:t,vLoaderBottom:this.$refs.vLoaderBottom};this.$emit("bottomLoad",e)},refresh:function(){this.$refs.vRefreshTop.refresh()},reStart:function(){this.$refs.vLoaderBottom.reStart()}}},o=a("hghu"),A=Object(o.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("RefreshTop",{ref:"vRefreshTop",attrs:{color:this.colorTop},on:{reload:this.reload}},[this._t("default"),this._v(" "),e("LoaderBottom",{ref:"vLoaderBottom",attrs:{color:this.colorBottom},on:{loadData:this.loadData}})],2)},[],!1,null,null,null);e.a=A.exports},YxWx:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".copysend[data-v-21997104]{padding-bottom:.66rem}",""])},ZJZm:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".list[data-v-45c81c81]{background-color:#fff;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;height:.44rem;line-height:.44rem}.list.active[data-v-45c81c81]{z-index:1;position:fixed;left:0;right:0;top:0}.item[data-v-45c81c81]{position:relative;color:#999;font-size:.14rem}.item.active[data-v-45c81c81]{color:#88b8f8}.line[data-v-45c81c81]{position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);bottom:.03rem;width:75%;height:.02rem;background-color:#88b8f8;border-radius:1px}",""])},Zlq9:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".info[data-v-03f5ad14]{padding:.1rem 0}.title[data-v-03f5ad14]{font-size:.18rem;color:#555;line-height:.36rem;font-weight:700}.list[data-v-03f5ad14]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:-.18rem}.list .item[data-v-03f5ad14]{overflow:hidden;width:.54rem;height:.54rem;background:#ededed;border-radius:.05rem;margin:.08rem 0;margin-left:.18rem}.list .item .img[data-v-03f5ad14]{width:.54rem;height:.54rem}.row[data-v-03f5ad14]{color:#999;font-size:.13rem;line-height:.35rem}.row .btn-r[data-v-03f5ad14]{float:right}.row .btn-r .num[data-v-03f5ad14]{margin-right:-.03rem;color:#88b8f8}",""])},ZmcQ:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".list .item[data-v-16fceb76]{padding:.13rem 0;display:-webkit-flex;display:-ms-flexbox;display:flex}.list .item .pic .img[data-v-16fceb76]{width:.41rem;height:.41rem;border-radius:50%}.content[data-v-16fceb76]{font-size:.13rem;padding-left:.12rem;line-height:.2rem;color:#999;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1}.content .t[data-v-16fceb76]{line-height:.21rem;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.content .t .name[data-v-16fceb76]{color:#333;font-size:.15rem;font-weight:700}",""])},aA8p:function(t,e,a){"use strict";a.r(e);var s=a("OZ6h"),i=a("k0ul"),n={props:{data:Object},created:function(){},methods:{imgAction:function(t,e){var a=t.map(function(t){return t.src});Object(i.c)(a,e)}}},o=(a("nQYp"),a("hghu")),A=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info bottom-one-px"},[a("div",{staticClass:"title"},[t._v(t._s(t.data.desc))]),t._v(" "),a("ul",{staticClass:"list"},t._l(t.data.imgList,function(e,s){return a("li",{key:s,staticClass:"item",on:{click:function(e){t.imgAction(t.data.imgList,s)}}},[a("img",{staticClass:"img",attrs:{src:e.src}})])})),t._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"l"},[t._v("时间：")]),t._v(" "),a("span",{staticClass:"r"},[t._v(t._s(t.data.timeStr))])]),t._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"l"},[t._v("发起人：")]),t._v(" "),a("span",{staticClass:"r"},[t._v(t._s(t.data.create_user_name))])]),t._v(" "),a("div",{staticClass:"row",on:{click:function(e){t.$emit("excuStatus")}}},[a("span",{staticClass:"l"},[t._v("执行人：")]),t._v(" "),a("span",{staticClass:"r"}),t._v(" "),a("div",{staticClass:"btn-r"},[a("i",{staticClass:"num"},[t._v(t._s(t.data.exe_finished))]),t._v(" "),a("i",{staticClass:"text"},[t._v(t._s("/"+t.data.exe_total+"已完成"))]),t._v(" "),a("i",{staticClass:"icon iconfont"},[t._v("")])])])])},[],!1,null,"03f5ad14",null).exports,r={props:{data:Array,needAddBtn:{type:Boolean,default:!0}},methods:{itemAction:function(t,e){console.log("itemAction 执行"),this.$router.push({name:this.$route.name,params:{id:t.id}})}}},c=(a("4/2h"),Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subtask bottom-one-px"},[a("div",{staticClass:"head"},[a("i",{staticClass:"icon iconfont"},[t._v("")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.data.length+"个子任务"))])]),t._v(" "),a("ul",{staticClass:"list"},t._l(t.data,function(e,s){return a("li",{key:s,staticClass:"item",on:{click:function(a){t.itemAction(e,s)}}},[a("span",{staticClass:"text"},[t._v(t._s(e.desc))]),t._v(" "),a("span",{staticClass:"status",class:{active:"1"===e.state}},[t._v(t._s("1"===e.state?"进行中":"已结束"))])])})),t._v(" "),t.needAddBtn?a("div",{staticClass:"btn-box clickActive",on:{click:function(e){t.$router.push({name:"newchildtask"})}}},[t._v("添加子任务")]):t._e()])},[],!1,null,"7f9653db",null).exports),l=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pic"},[e("img",{staticClass:"img",attrs:{src:a("vi8c")}})])}],d={props:{data:{type:Array}}},u=(a("sMQd"),Object(o.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"leaveword list"},t._l(t.data,function(e,s){return a("li",{key:s,staticClass:"item"},[t._m(0,!0),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"t"},[a("div",{staticClass:"name"},[t._v(t._s(e.user_name))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.timeStr))])]),t._v(" "),a("div",{staticClass:"b"},[t._v(t._s(e.comment))])])])}))},l,!1,null,"16fceb76",null).exports),m={components:{confirmBoxCom:s.a},data:function(){var t=this;return{isShowWarnBox:!1,inputText:"",isInput:!1,btnData:[{content:"撤销",cb:function(){t.isShowWarnBox=!0}},{content:"编辑",cb:this.onEdit},{content:"完成",cb:this.onFinish}]}},computed:{isCanSend:function(){return Boolean(this.inputText.length)}},created:function(){this.init()},methods:{init:function(){"detail_dealwith"===this.$route.name?this.btnData=[{content:"完成",cb:this.onFinish}]:"detail_copysend"===this.$route.name&&(this.btnData=[],this.isInput=!0)},keywordAction:function(){var t=this;this.isInput=!this.isInput,this.isInput&&setTimeout(function(){t.$refs.ipt.focus()},0)},itemAction:function(t,e){t.cb()},sendAction:function(){this.isCanSend&&(this.$emit("sendAction",this.inputText),this.inputText="")},onFinish:function(){this.$emit("finish")},onEdit:function(){this.$emit("edit")},onRevoke:function(){this.$emit("revoke")},fn:function(){}}},f=(a("TMVL"),Object(o.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-b top-one-px"},[a("div",{directives:[{name:"click",rawName:"v-click",value:t.keywordAction,expression:"keywordAction"}],staticClass:"k-btn iconfont",class:{active:t.isInput}},[t._v("")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isInput,expression:"isInput"}],staticClass:"ipt-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"ipt",staticClass:"ipt",attrs:{type:"text"},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),t._v(" "),a("div",{staticClass:"send clickActive2",class:{active:t.isCanSend},on:{click:t.sendAction}},[t._v("发送")])]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:!t.isInput,expression:"!isInput"}],staticClass:"list"},t._l(t.btnData,function(e,s){return a("li",{key:s,staticClass:"item clickActive",class:{blue:"完成"===e.content},on:{click:function(a){t.itemAction(e,s)}}},[t._v(t._s(e.content))])})),t._v(" "),a("confirmBoxCom",{directives:[{name:"show",rawName:"v-show",value:t.isShowWarnBox,expression:"isShowWarnBox"}],attrs:{content:"确定撤销？"},on:{confirmAction:t.onRevoke,cancelAction:function(e){t.isShowWarnBox=!1}}})],1)},[],!1,null,"6be85dfb",null).exports),h=a("KqdF"),p=a("6UnF"),v=a("8CNX"),g={components:{VTransition:a("JyGy").a,TextareaCom:h.a,AttachmentCom:p.a,CommitBtnCom:v.a},props:{currExeId:{type:String,default:""},show:{type:Boolean,default:!1}},data:function(){return{textareaText:"",imgList:[]}},methods:{commitBtnAction:function(){var t=this;this.textareaText?0!==this.imgList.length?(this.$preloaderFull.show(),Object(i.a)(this.imgList).then(function(e){t.$preloaderFull.close(),0!==e.length?(t.attachmentList=e,t.postData()):t.$simpleMsg("图片上传失败，请重新提交")})):this.postData():this.$simpleMsg("请说明完成情况")},postData:function(){var t=this,e=this.textareaText,a=this.attachmentList,s=this.currExeId,i={task_id:this.$route.params.id,task_exe_id:s,desc:e,attachment_list:a};return this.$preloaderFull.show(),this.$axios.post("/mobicampus/task/v1/finish",i).then(function(e){var a=e.data;t.$preloaderFull.close(),200===a.status&&t.$router.go(-2)})}}},x=(a("aFNo"),{components:{infoCom:A,subtaskCom:c,leaveWordCom:u,bottomBtnCom:f,Finish:Object(o.a)(g,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VTransition",{attrs:{name:"slide-bottom"}},[t.show?a("div",{staticClass:"finish page-fixed page-bg"},[a("TextareaCom",{attrs:{placeholder:"请说明完成情况",content:t.textareaText},on:{"update:content":function(e){t.textareaText=e}}}),t._v(" "),a("attachmentCom",{attrs:{imgList:t.imgList}}),t._v(" "),a("CommitBtnCom",{attrs:{content:"完成",needPosition:!0},on:{action:t.commitBtnAction}})],1):t._e()])},[],!1,null,"c10fbe1c",null).exports,confirmBoxCom:s.a},data:function(){return{isShowWarnBox:!1,parentTaskId:"0",currExeId:"",isShowFinish:!1,infoData:{},subtaskData:[],leaveWordData:[]}},watch:{$route:function(){this.refresh()}},created:function(){this.getData()},computed:{isShowBottomBtn:function(){return"detail_dealwith"===this.$route.name&&0===this.$route.params.state||"detail_sponsor"===this.$route.name}},methods:{onExcuStatus:function(){this.$router.push({name:"excuStatus",params:{id:this.$route.params.id}})},onedit:function(){this.$router.push({name:"edittask",params:{id:this.$route.params.id}})},onrevoke:function(){this.postRevoke()},onfinish:function(){this.$router.push({name:"finish",params:{id:this.$route.params.id,currExeId:this.currExeId}})},onsendAction:function(t){console.log(t),this.postComment(t)},refresh:function(){this.infoData={},this.subtaskData=[],this.leaveWordData=[],this.getData()},getData:function(){var t=this;return this.$preloaderFull.show(),this.$axios.get("/mobicampus/task/v1/details/"+this.$route.params.id).then(function(e){var a=e.data;if(t.$preloaderFull.close(),200===a.status){console.log("if-详情",a);var s=a.result.data,i=s.task,n=s.exe_total,o=s.exe_finished,A=s.curr_exe,r=s.comment_list,c=s.subtask_list;t.currExeId=A.id,t.parentTaskId=i.parent_task_id,t.infoData={desc:i.desc,imgList:i.attachment_list,timeStr:t.$getTimeStr(i.create_time,"yy-mm-dd hh:mm",!1)+"~"+t.$getTimeStr(i.expect_complete_time,"yy-mm-dd hh:mm",!1),create_user_name:i.create_user_name,exe_total:n,exe_finished:o},console.log("this.infoData",t.infoData),t.subtaskData=c,t.leaveWordData=r.map(function(e){return{user_name:e.user_name,timeStr:t.$getTimeStr(e.create_time),comment:e.comment}})}}).catch(function(t){console.log("err",t)})},postComment:function(t){var e=this,a={task_id:parseInt(this.$route.params.id),comment:t};return this.$preloaderFull.show(),this.$axios.post("/mobicampus/task/v1/comment/save",a).then(function(t){var a=t.data;e.$preloaderFull.close(),200===a.status&&e.getData()})},postRevoke:function(){var t=this;return this.$preloaderFull.show(),this.$axios.post("/mobicampus/task/v1/withdraw/"+this.$route.params.id).then(function(e){var a=e.data;t.$preloaderFull.close(),200===a.status&&t.$router.replace({name:"sponsor",query:{excuRevoke:!0}})})}}}),b=(a("OhAc"),Object(o.a)(x,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail page-fixed "},[a("infoCom",{attrs:{data:t.infoData},on:{excuStatus:t.onExcuStatus}}),t._v(" "),"0"===t.parentTaskId?a("subtaskCom",{attrs:{data:t.subtaskData,needAddBtn:"detail_dealwith"===t.$route.name&&"0"===t.parentTaskId}}):t._e(),t._v(" "),a("leaveWordCom",{attrs:{data:t.leaveWordData}}),t._v(" "),t.isShowBottomBtn?a("bottomBtnCom",{on:{sendAction:t.onsendAction,finish:t.onfinish,revoke:t.onrevoke,edit:t.onedit}}):t._e(),t._v(" "),a("confirmBoxCom",{directives:[{name:"show",rawName:"v-show",value:t.isShowWarnBox,expression:"isShowWarnBox"}],attrs:{content:"确定完成？"},on:{confirmAction:t.onfinish,cancelAction:function(e){t.isShowWarnBox=!1}}})],1)},[],!1,null,"447ec66e",null));e.default=b.exports},aFNo:function(t,e,a){"use strict";var s=a("jnZd");a.n(s).a},cObO:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,"",""])},ckUf:function(t,e,a){"use strict";var s=a("rZRv");a.n(s).a},d9kY:function(t,e,a){"use strict";var s=a("tG54");a.n(s).a},fqkn:function(t,e,a){"use strict";var s=a("qwiU");a.n(s).a},fzHj:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".btn-b[data-v-6be85dfb]{background:#fff;position:fixed;left:0;bottom:0;width:100%;height:.54rem;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:.54rem;text-align:center}.k-btn[data-v-6be85dfb]{width:.65rem;font-size:.32rem;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;-o-transition:transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;color:#999}.k-btn.active[data-v-6be85dfb]{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);color:#88b8f8}.list[data-v-6be85dfb]{-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;display:-webkit-flex;display:-ms-flexbox;display:flex}.list .item[data-v-6be85dfb]{font-weight:700;border-left:.01rem solid #e5e5e5;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;color:#666;font-size:.15rem}.list .item.blue[data-v-6be85dfb]{color:#88b8f8}.ipt-box[data-v-6be85dfb]{border-left:.01rem solid #e5e5e5;padding:.13rem;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;display:-webkit-flex;display:-ms-flexbox;display:flex}.ipt-box .ipt[data-v-6be85dfb]{padding:0 .1rem;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;line-height:.28rem;border-radius:.03rem;border:.01rem solid #ddd;outline:none}.ipt-box .send[data-v-6be85dfb]{margin-left:.13rem;border-radius:.03rem;color:#fff;width:.4rem;height:.28rem;line-height:.28rem;background-color:#ddd}.ipt-box .send.active[data-v-6be85dfb]{background-color:#88b8f8}",""])},hH1D:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,"",""])},jnZd:function(t,e,a){var s=a("cObO");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("fcf9342c",s,!0,{})},kV9B:function(t,e,a){"use strict";var s={components:{FormCom:a("8ffV").a},props:{title:{type:String,default:"抄送人"},ccPersonArr:Array},data:function(){return{}},computed:{noticePersonText:function(){var t=this.ccPersonArr.length;return t?this.ccPersonArr[t-1].user_name+"等"+t+"人":""}}},i=(a("pl0R"),a("hghu")),n=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("FormCom",{staticClass:"form-com"},[a("div",{staticClass:"cc-box"},[a("div",{staticClass:"l"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"r",class:{active:t.noticePersonText},on:{click:function(e){t.$emit("addPerson")}}},[a("span",[t._v(t._s(t.noticePersonText||"请选择"))]),t._v(" "),a("i",{staticClass:"iconfont"},[t._v("")])])])])},[],!1,null,"45b8a019",null);e.a=n.exports},lTHm:function(t,e,a){var s=a("p8sS");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("7d3fc7f7",s,!0,{})},"m/HA":function(t,e,a){var s=a("5flr");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("45b4eeac",s,!0,{})},mIzv:function(t,e,a){var s=a("FnyZ");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("1ebd7836",s,!0,{})},mQWG:function(t,e,a){"use strict";var s=a("VDtT");a.n(s).a},nQYp:function(t,e,a){"use strict";var s=a("ObxM");a.n(s).a},nm9w:function(t,e,a){"use strict";var s=a("mIzv");a.n(s).a},"ok/x":function(t,e,a){"use strict";a.r(e);var s=a("f+TK"),i={name:"sponsor",components:{List:a("puaZ").a,App:s.a},data:function(){return{index:-1,listData:[],keyword:""}},watch:{$route:function(t,e){t.query.excuRevoke&&this.listData.splice(this.index,1)}},created:function(){},methods:{onActionList:function(t,e){this.$router.push({name:"detail_sponsor",params:{id:t.id}})},getList:function(t){var e=this;return this.$preloaderFull.show(),this.$axios.get("/mobicampus/task/v1/list?type=created&state=1&start="+t+"&size=10").then(function(t){var a=t.data;if(e.$preloaderFull.close(),200===a.status)return console.log("if-发起",a),a.result.data.map(function(t){var a=t.task;return{id:a.id,desc:a.desc,create_user_name:a.create_user_name,expect_complete_time:e.$getTimeStr(a.expect_complete_time,"mm-dd hh:mm",!1),stateStr:t.exe_finished+"/"+t.exe_total+"已完成",create_time:e.$getTimeStr(a.create_time)}})})}}},n=(a("ckUf"),a("hghu")),o=Object(n.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sponsor"},[e("List",{ref:"list0",staticClass:"list-com",attrs:{data:this.listData,getData:this.getList},on:{action:this.onActionList}}),this._v(" "),e("App",{staticClass:"cmain"})],1)},[],!1,null,"2e8db3a0",null);e.default=o.exports},p8sS:function(t,e,a){var s=a("iTuz");(t.exports=a("lbwJ")(!1)).push([t.i,"@font-face{font-family:iconfont-task;src:url("+s(a("rv6b"))+') format("truetype")}.task-container[data-v-6edd8549] .iconfont-task{font-family:iconfont-task;font-size:.16rem;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.cbg[data-v-6edd8549]{z-index:-1;position:fixed;top:0;bottom:0;left:0;right:0}.cmain[data-v-6edd8549]{position:relative}',""])},pCAO:function(t,e,a){"use strict";a.r(e);var s=a("ANuR"),i=a("6UnF"),n=a("8CNX"),o=a("8ffV"),A=a("hHQW"),r=a("KqdF"),c=a("kV9B"),l=a("p/l8"),d=a("k0ul"),u={components:{SlideSelectDateAndTime:s.a,FormCom:o.a,Cell:A.a,TextareaCom:r.a,ccPersonCom:c.a,CommitBtnCom:n.a,MemberSelect:l.a,AttachmentCom:i.a},data:function(){return{isWork:!1,isEdit:"edittask"===this.$route.name,isNewChildTask:"newchildtask"===this.$route.name,selectedDataTR:{memberList:[],deptList:[],memberListSubmit:[]},selectedDataCC:{memberList:[],deptList:[],memberListSubmit:[]},isShowSelectDate:!1,dateStr:"",textareaText:"",imgList:[],transactorArr:[],ccPersonArr:[]}},created:function(){this.isEdit&&this.getDate(),this.$route.query.isWork&&(this.isWork=!0)},methods:{onMemberSelectTR:function(){var t=this;this.$refs.vMemberSelect.show({type:"multiple",selectedData:this.selectedDataTR,onConfirm:function(e){t.selectedDataTR=e,t.transactorArr=e.memberListSubmit}})},onMemberSelectCC:function(){var t=this;this.$refs.vMemberSelect.show({type:"multiple",selectedData:this.selectedDataCC,onConfirm:function(e){t.selectedDataCC=e,t.ccPersonArr=e.memberListSubmit}})},commitBtnAction:function(){var t=this;console.log("确定");var e=this.textareaText,a=this.dateStr,s=this.transactorArr;e?0!==s.length?a?0!==this.imgList.length?(this.$preloaderFull.show(),Object(d.a)(this.imgList).then(function(e){t.$preloaderFull.close(),0!==e.length?(t.attachmentList=e,console.log(222),t.postTask()):t.$simpleMsg("图片上传失败，请重新提交")})):this.postTask():this.$simpleMsg("请选择结束时间"):this.$simpleMsg("请选择执行人"):this.$simpleMsg("请输入任务内容")},postTask:function(){var t=this,e=this.textareaText,a=this.dateStr,s=this.transactorArr,i=this.ccPersonArr,n=this.isWork,o={task:{desc:e,expect_complete_time:a,dept_id:"123",dept_name:"321",attachment_list:this.attachmentList},exe_list:s,cc_people:i,work:n},A="/mobicampus/task/v1/new";return this.isEdit&&(o.task.id=this.$route.params.id,A="/mobicampus/task/v1/update"),this.isNewChildTask&&(o.task.parent_task_id=this.$route.params.id),this.$preloaderFull.show(),this.$axios.post(A,o).then(function(e){var a=e.data;t.$preloaderFull.close(),200===a.status?(t.isNewChildTask?t.$router.back():t.$router.replace({name:"sponsor"}),t.$simpleMsg("已提交")):t.$simpleMsg(a.message)})},getDate:function(){var t=this;return console.log("执行getDate"),this.$preloaderFull.show(),this.$axios.get("/mobicampus/task/v1/details/"+this.$route.params.id).then(function(e){var a=e.data;if(t.$preloaderFull.close(),200===a.status){var s=a.result.data,i=s.task,n=s.exe_list,o=s.cc_people;t.textareaText=i.desc,t.attachmentList=i.attachment_list,t.imgList=i.attachment_list.map(function(t){return t.src}),t.transactorArr=n.map(function(t){return{user_name:t.user_name,user_id:t.user_id}}),t.selectedDataTR.memberList=t.transactorArr,t.ccPersonArr=o.map(function(t){return{user_name:t.user_name,user_id:t.user_id}}),t.selectedDataCC.memberList=t.ccPersonArr,t.dateStr=t.$getTimeStr(i.expect_complete_time,"yy-mm-dd hh:mm",!1)}})}}},m=(a("ymu+"),a("hghu")),f=Object(m.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newtask"},[a("TextareaCom",{attrs:{placeholder:"请输入任务内容",content:t.textareaText},on:{"update:content":function(e){t.textareaText=e}}}),t._v(" "),a("attachmentCom",{attrs:{imgList:t.imgList}}),t._v(" "),a("ccPersonCom",{attrs:{title:"执行人",ccPersonArr:t.transactorArr},on:{addPerson:t.onMemberSelectTR}}),t._v(" "),a("ccPersonCom",{attrs:{ccPersonArr:t.ccPersonArr},on:{addPerson:t.onMemberSelectCC}}),t._v(" "),a("FormCom",{staticClass:"form"},[a("cell",{attrs:{button:"",title:"结束时间",content:t.dateStr},on:{action:function(){return t.isShowSelectDate=!0}}})],1),t._v(" "),a("CommitBtnCom",{on:{action:t.commitBtnAction}}),t._v(" "),a("MemberSelect",{ref:"vMemberSelect"}),t._v(" "),a("SlideSelectDateAndTime",{attrs:{show:t.isShowSelectDate,value:t.dateStr},on:{"update:show":function(e){t.isShowSelectDate=e},"update:value":function(e){t.dateStr=e}}})],1)},[],!1,null,"ec0b5e7a",null);e.default=f.exports},"pU/Y":function(t,e,a){"use strict";var s=a("lTHm");a.n(s).a},pl0R:function(t,e,a){"use strict";var s=a("BoeG");a.n(s).a},puaZ:function(t,e,a){"use strict";var s=a("unDg"),i=a.n(s),n={components:{LoaderRefresh:a("Xjp0").a},props:{data:Array,getData:Function},data:function(){return{showBg:!1}},computed:{begin:function(){return this.data.length}},methods:{onBottomLoad:function(t){var e=this,a=(t.isRefresh,t.complete),s=t.vLoaderBottom;this.getData(this.begin).then(function(t){var n;t=t||[],(n=e.data).push.apply(n,i()(t)),a(0===t.length),e.showBg=!e.begin&&!t.length,!t.length&&s.hide()})},onRefreshLoad:function(t){var e=this,a=(t.isRefresh,t.complete);t.vLoaderBottom;this.getData(0).then(function(t){var s;t=t||[],(s=e.data).splice.apply(s,[0,e.data.length].concat(i()(t))),a(!1),e.showBg=!e.begin&&!t.length})},reStart:function(){console.log("********    reStart   *******",this.$attrs.aaa),this.$refs.vLoaderRefresh.reStart()}}},o=(a("mQWG"),a("hghu")),A=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("LoaderRefresh",{ref:"vLoaderRefresh",attrs:{colorTop:"black",colorBottom:"black"},on:{bottomLoad:t.onBottomLoad,refreshLoad:t.onRefreshLoad}},[a("ul",{staticClass:"list"},t._l(t.data,function(e,s){return a("li",{key:e.id,staticClass:"item clickActive",on:{click:function(a){t.$emit("action",e,s)}}},[a("div",{staticClass:"content bottom-one-px"},[a("div",{staticClass:"title-box"},[a("span",{staticClass:"title ep"},[t._v(t._s(e.desc))]),t._v(" "),e.has_new_comments?a("span",{staticClass:"icon-message iconfont-task clickActive"},[t._v("")]):t._e(),t._v(" "),e.is_overdue?a("span",{staticClass:"status clickActive"},[t._v("已逾期")]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"l"},[t._v("发起人：")]),t._v(" "),a("span",{staticClass:"r"},[t._v(t._s(e.create_user_name))])]),t._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"l"},[t._v("结束时间：")]),t._v(" "),a("span",{staticClass:"r"},[t._v(t._s(e.expect_complete_time))])]),t._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"l"},[t._v("执行人：")]),t._v(" "),a("span",{staticClass:"r"},[t._v(t._s(e.stateStr))]),t._v(" "),a("span",{staticClass:"time"},[t._v(t._s(e.create_time))])])])])})),t._v(" "),a("oa-bg-nodata",{directives:[{name:"show",rawName:"v-show",value:t.showBg,expression:"showBg"}]})],1)},[],!1,null,"ea1e8620",null);e.a=A.exports},qwiU:function(t,e,a){var s=a("hH1D");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("241697ee",s,!0,{})},rZRv:function(t,e,a){var s=a("X7j2");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("7437fbbf",s,!0,{})},rv6b:function(t,e){t.exports="data:font/ttf;base64,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"},sMQd:function(t,e,a){"use strict";var s=a("ECHS");a.n(s).a},tG54:function(t,e,a){var s=a("JABS");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("5d96e30c",s,!0,{})},us0V:function(t,e,a){"use strict";a.r(e);var s=a("TrXX"),i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-box"},[e("img",{staticClass:"img",attrs:{src:a("vi8c")}})])}],n={props:{data:Array,needBtn:{type:Boolean,default:!0}}},o=(a("d9kY"),a("hghu")),A=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list"},t._l(t.data,function(e,s){return a("li",{key:s,staticClass:"item"},[t._m(0,!0),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(e.user_name))]),t._v(" "),t.needBtn?a("div",{staticClass:"btn-r clickActive",on:{click:function(a){t.$emit("urgeAction",e,s)}}},[t._v("催办")]):t._e()])}))},i,!1,null,"1c46f90e",null).exports,r={props:{data:Array}},c=(a("z7B7"),Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list"},t._l(t.data,function(e,s){return a("li",{key:s,staticClass:"item bottom-one-px cf"},[a("div",{staticClass:"head"},[a("div",{staticClass:"name l"},[t._v(t._s(e.user_name))])]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(e.desc))]),t._v(" "),a("div",{staticClass:"img-box cf"},t._l(e.attachment_list,function(t,e){return a("img",{key:"img"+e,staticClass:"img",attrs:{src:t.src}})}))])}))},[],!1,null,"860f3f46",null).exports),l={components:{tabHead:s.a,listNoFinish:A,listFinish:c},data:function(){return{needUrge:!0,tabList:["未完成","已完成"],currIndex:0,listData1:[],listData2:[],userIdList:[]}},beforeRouteEnter:function(t,e,a){a(function(t){t.needUrge="detail_copysend"!==e.name})},created:function(){this.getData()},methods:{onActionTab:function(t,e){this.currIndex=e},onUrgeAction:function(t,e){var a=this;this.userIdList=[parseInt(t.user_id)],this.postSendNotif().then(function(){a.$simpleMsg("已催办"+t.user_name)})},getData:function(){var t=this;return this.$preloaderFull.show(),this.$axios.get("/mobicampus/task/v1/taskexe/details/"+this.$route.params.id).then(function(e){var a=e.data;if(t.$preloaderFull.close(),200===a.status){console.log("完成情况",a);var s=a.result.data;t.listData1=s.exe_list_inprogress,t.listData2=s.exe_list_finished}})},postSendNotif:function(){var t=this,e={title:"任务通知",content:"您有一条新的任务，请及时处理~",type:2,user_id_list:this.userIdList,extra:{module_code:"task",params:this.$route.params.id,view_type:2}};return this.$preloaderFull.show(),this.$axios.post("/mobicampus/common/v1/sendNotif",e).then(function(e){var a=e.data;t.$preloaderFull.close(),200===a.status&&console.log("任务通知",a)})}}},d=(a("6OqQ"),Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"excu-status"},[a("tabHead",{attrs:{position:"",list:t.tabList,currIndex:t.currIndex},on:{action:t.onActionTab}}),t._v(" "),a("listNoFinish",{directives:[{name:"show",rawName:"v-show",value:0===t.currIndex,expression:"currIndex === 0"}],attrs:{data:t.listData1,needBtn:t.needUrge},on:{urgeAction:t.onUrgeAction}}),t._v(" "),a("listFinish",{directives:[{name:"show",rawName:"v-show",value:1===t.currIndex,expression:"currIndex === 1"}],attrs:{data:t.listData2}})],1)},[],!1,null,"49fd5e4d",null));e.default=d.exports},xxiV:function(t,e,a){var s=a("/Dy+");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("6dacd394",s,!0,{})},"y+zZ":function(t,e,a){"use strict";a.r(e);var s=a("KqdF"),i=a("6UnF"),n=a("8CNX"),o=a("JyGy"),A=a("k0ul"),r={components:{VTransition:o.a,TextareaCom:s.a,AttachmentCom:i.a,CommitBtnCom:n.a},props:{currExeId:{type:String,default:""},show:{type:Boolean,default:!1}},data:function(){return{textareaText:"",imgList:[]}},methods:{commitBtnAction:function(){var t=this;this.textareaText?0!==this.imgList.length?(this.$preloaderFull.show(),Object(A.a)(this.imgList).then(function(e){t.$preloaderFull.close(),0!==e.length?(t.attachmentList=e,t.postData()):t.$simpleMsg("图片上传失败，请重新提交")})):this.postData():this.$simpleMsg("请说明完成情况")},postData:function(){var t=this,e=this.textareaText,a=this.attachmentList,s={task_id:this.$route.params.id,task_exe_id:this.$route.params.currExeId,desc:e,attachment_list:a};return this.$preloaderFull.show(),this.$axios.post("/mobicampus/task/v1/finish",s).then(function(e){var a=e.data;t.$preloaderFull.close(),200===a.status&&t.$router.back()})}}},c=(a("nm9w"),a("hghu")),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finish page-fixed page-bg"},[a("TextareaCom",{attrs:{placeholder:"请说明完成情况",content:t.textareaText},on:{"update:content":function(e){t.textareaText=e}}}),t._v(" "),a("attachmentCom",{attrs:{imgList:t.imgList}}),t._v(" "),a("CommitBtnCom",{attrs:{content:"完成",needPosition:!0},on:{action:t.commitBtnAction}})],1)},[],!1,null,"eda2edde",null);e.default=l.exports},"ymu+":function(t,e,a){"use strict";var s=a("m/HA");a.n(s).a},ysn5:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".item[data-v-ea1e8620]{background-color:#fff;padding:.15rem .12rem 0 .14rem}.content[data-v-ea1e8620]{padding-bottom:.15rem}.title-box .title[data-v-ea1e8620]{max-width:2.5rem;display:inline-block;vertical-align:middle;line-height:.28rem;font-size:.18rem;color:#555;font-weight:700}.title-box .icon-message[data-v-ea1e8620]{font-size:.15rem;color:#f8b788}.title-box .status[data-v-ea1e8620]{display:inline-block;width:.6rem;height:.2rem;border-radius:.1rem;font-size:.13rem;font-weight:700;color:#fd939b;border:1px solid #fd939b;text-align:center;vertical-align:middle;line-height:.2rem;float:right}.row[data-v-ea1e8620]{font-size:.13rem;color:#999;line-height:.28rem}.row .time[data-v-ea1e8620]{float:right}",""])},z7B7:function(t,e,a){"use strict";var s=a("WfGU");a.n(s).a},zBYy:function(t,e,a){(t.exports=a("lbwJ")(!1)).push([t.i,".subtask[data-v-7f9653db]{padding-bottom:.2rem;font-size:.13rem}.head[data-v-7f9653db]{line-height:.48rem;color:#999}.head .text[data-v-7f9653db]{margin-left:.15rem}.list[data-v-7f9653db]{margin-top:-.1rem}.list .item[data-v-7f9653db]{border-radius:.05rem;line-height:.48rem;margin-top:.1rem;background-color:#f4f3f3;padding:0 .1rem 0 .17rem;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;color:#666}.list .item .status[data-v-7f9653db]{color:#999}.list .item .status.active[data-v-7f9653db]{color:#88b8f8}.btn-box[data-v-7f9653db]{font-weight:700;margin:.14rem auto 0;width:1.13rem;line-height:.25rem;border-radius:.03rem;border:1px solid #88b8f8;color:#88b8f8;text-align:center}",""])},zSCc:function(t,e,a){var s=a("zBYy");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("24928cc4",s,!0,{})},znaV:function(t,e,a){var s=a("ZJZm");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("BDYz").default)("8233749e",s,!0,{})}}]);